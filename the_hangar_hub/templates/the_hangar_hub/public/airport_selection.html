{% extends 'base/template/standard/template.html' %}
{% load base_taglib %}
{% load static %}

{%block title%}The Hangar public: Airport Selection{%endblock%}

{% block main_content %}
<div class="content-800 content-center">
    <h1>Airport Selection</h1>
    <br />

    <section>

        <div class="card" style="max-width: 500px;">
            {%if not matches%}
            <img src="{% static 'images/bs-cards/map.png' %}" alt="Cartoon airplane looking through binoculars" class="card-img-top" />
            {%endif%}
            <div class="card-body">
                <p class="card-text">
                     <form method="get">
                        Enter the FAA/ICAO identifier for your airport:<br />
                        <br />
                        <label for="identifier" class="visually-hidden">Airport Identifier</label>

                        <div class="input-group mb-3">
                            <input type="text" id="identifier" name="identifier" class="form-control initial-focus" value="{{identifier|default:''}}" placeholder="Airport Identifier" maxlength="7" />
                            <button class="btn btn-success" type="submit">
                                {%icon bi-send title="Submit"%}
                            </button>
                        </div>
                    </form>
                </p>
            </div>
        </div>

    </section>


    {%if matches%}
        <b class="heading text-xl">Select your airport:</b><br />
        <table class="table table-striped table-hover table-condensed" id="airport-table">
            <tr>
                <th scope="col">Identifier</th>
                <th scope="col">Airport Name</th>
                <th scope="col">City</th>
                <th scope="col">Select</th>
            </tr>
            {%for match in matches%}
            <tr>
                <td>{{match.identifier}}</td>
                <td>{{match.display_name}}</td>
                <td>{{match.city}}, {{match.state}}</td>
                <td>
                    <a href="{%url 'public:select' match.identifier%}" class="btn btn-info btn-sm">Select</a>
                </td>
            </tr>
            {%endfor%}
        </table>
    {%elif identifier%}
        <div class="alert alert-danger">
            "{{identifier}}" did not match any airports. Please check the identifier and try again.
        </div>
    {%endif%}
</div>
{%endblock%}